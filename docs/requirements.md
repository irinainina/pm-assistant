# Требования к проекту: PM-assistant

## 1. Цели проекта
- Помощь в работе PM
- Сокращение времени на поиск информации
- Помощь и обучение новичков

## 2. Общий принцип работы приложения PM-assistant:

1. Есть база данных - около 100 страниц Notion предназначенных для PM. Их нужно организованных в таблицу с полями. Для доступа к базе данных используем @notionhq/client. Также нужны NOTION_API_KEY (уже есть ) и NOTION_DATABASE_ID (получим, когда создадим базу данных на основе отдельных страниц).
2. Пользователь задает вопрос, ответ на который находится в одном или нескольких документах Notion. Вопрос может быть задан на английском, русском или украинском языке.
3. Система выполняет поиск 3-5 релевантных фрагментов в базе знаний (через эмбеддинги и Vector DB)
4. GPT-4 формулирует ответ на основе найденых фрагментов. GPT-4 отвечает на том же языке, на котором задан вопрос. GPT-4 может вести беседу учитывая контекст. Для доступа к GPT-4 используем Open AI API key (уже есть). 
5. В интерфейсе чата показываем пользователю ответ GPT-4 + ссылки на источники 

## 3. Технологии
- Frontend: Next.js 15
- Backend: Python + Flask
- Notion Integration: @notionhq/client
- Vector DB: ChromaDB
- AI Engine: OpenAI GPT-4

## 4. Схема архитектуры

![Схема архитектуры проекта](img/architecture.png)

1. Frontend отправляет вопрос пользователя на Backend API
2. Backend обрабатывает запрос и взаимодействует с другими сервисами:
  - Через Notion Integration получает доступ к базе знаний
  - В Vector DB ищет релевантные фрагменты информации
  - Передаёт найденные данные в AI Engine для генерации ответа
  - Backend возвращает готовый ответ с источниками на Frontend
3. Связь Notion → Vector DB: Данные из Notion периодически загружаются и индексируются в векторной базе для быстрого поиска.

## 5. Ограничения и лимиты

- Notion API limits - 3-5 запросов в секунду (достаточно для 20 PM и 100 документов)
- Качество ответов - будем использовать "контекстный поиск" - сначала ищем релевантные фрагменты, потом передаем GPT-4
- Скорость: ChromaDB на локальной машине обрабатывает 100 документов за ~0.5 сек
